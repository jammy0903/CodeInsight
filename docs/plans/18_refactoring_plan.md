# CodeInsight ë¦¬íŒ©í† ë§ ê³„íšì„œ

> ê¸°ì¡´ COSLAB â†’ CodeInsight ì „í™˜ì„ ìœ„í•œ ìƒì„¸ ë¦¬íŒ©í† ë§ ê³„íš

---

## 1. í˜„ì¬ ì½”ë“œ ë¶„ì„

### 1.1 Frontend íŒŒì¼ í˜„í™© (60ê°œ)

```
frontend/src/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ problems/          # âŒ ì‚­ì œ (ë¬¸ì œ í’€ì´ ê¸°ëŠ¥)
â”‚   â”œâ”€â”€ memory/            # âœ… ìœ ì§€ (í•µì‹¬ ì‹œê°í™”)
â”‚   â””â”€â”€ chat/              # âœ… ìœ ì§€ (AI í•´ì„¤ì)
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ problems.ts        # âŒ ì‚­ì œ
â”‚   â”œâ”€â”€ submissions.ts     # âŒ ì‚­ì œ
â”‚   â”œâ”€â”€ tracer.ts          # âœ… ìœ ì§€
â”‚   â”œâ”€â”€ crunner.ts         # âœ… ìœ ì§€
â”‚   â”œâ”€â”€ ai.ts              # âœ… ìœ ì§€
â”‚   â”œâ”€â”€ firebase.ts        # âš ï¸ ì¶•ì†Œ (ì¸ì¦ë§Œ)
â”‚   â””â”€â”€ users.ts           # âš ï¸ ì¶•ì†Œ
â”œâ”€â”€ stores/store.ts        # âš ï¸ ë¦¬íŒ©í† ë§
â”œâ”€â”€ pages/Admin.tsx        # âŒ ì‚­ì œ
â””â”€â”€ components/ui/         # âœ… ìœ ì§€
```

### 1.2 Backend íŒŒì¼ í˜„í™© (27ê°œ)

```
backend-node/src/
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ problems/          # âŒ ì‚­ì œ
â”‚   â”œâ”€â”€ submissions/       # âŒ ì‚­ì œ
â”‚   â”œâ”€â”€ users/             # âš ï¸ ì¶•ì†Œ
â”‚   â”œâ”€â”€ c/                 # âœ… ìœ ì§€
â”‚   â”œâ”€â”€ memory/            # âœ… ìœ ì§€
â”‚   â””â”€â”€ ai/                # âœ… ìœ ì§€ (í”„ë¡¬í”„íŠ¸ ìˆ˜ì •)
â””â”€â”€ config/                # âœ… ìœ ì§€
```

---

## 2. ì½”ë“œ ë¶„ë¥˜ ìƒì„¸

### 2.1 âœ… ì‚´ë¦´ ê²ƒ (Keep)

#### Frontend - í•µì‹¬ ê¸°ëŠ¥
| íŒŒì¼/í´ë” | ì´ìœ  | ìˆ˜ì • í•„ìš” |
|-----------|------|-----------|
| `features/memory/` | ì‹œë®¬ë ˆì´í„° í•µì‹¬ | ë‹¨ê³„ë³„ ì‹¤í–‰ ê¸°ëŠ¥ ì¶”ê°€ |
| `features/chat/` | AI í•´ì„¤ì | í”„ë¡¬í”„íŠ¸ ë°©í–¥ ë³€ê²½ |
| `components/ui/` | shadcn/ui ê³µìš© | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `services/tracer.ts` | ë©”ëª¨ë¦¬ API | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `services/crunner.ts` | C ì‹¤í–‰ API | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `services/ai.ts` | AI API | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `config/` | í™˜ê²½ë³€ìˆ˜ | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `hooks/useTheme.ts` | í…Œë§ˆ | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `lib/utils.ts` | cn() í—¬í¼ | ê·¸ëŒ€ë¡œ ìœ ì§€ |

#### Backend - í•µì‹¬ ëª¨ë“ˆ
| íŒŒì¼/í´ë” | ì´ìœ  | ìˆ˜ì • í•„ìš” |
|-----------|------|-----------|
| `modules/c/` | C ì‹¤í–‰ ì—”ì§„ | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `modules/memory/` | ì‹œë®¬ë ˆì´ì…˜ | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| `modules/ai/` | AI í•´ì„¤ì | í”„ë¡¬í”„íŠ¸ë§Œ ìˆ˜ì • |
| `config/` | í™˜ê²½ë³€ìˆ˜ | ê·¸ëŒ€ë¡œ ìœ ì§€ |

---

### 2.2 âŒ ë²„ë¦´ ê²ƒ (Delete)

#### Frontend
| íŒŒì¼/í´ë” | ì´ìœ  |
|-----------|------|
| `features/problems/` | ë¬¸ì œ í’€ì´ = ì½”ë”©í…ŒìŠ¤íŠ¸ ë°©í–¥ |
| `services/problems.ts` | ë¬¸ì œ API ë¶ˆí•„ìš” |
| `services/submissions.ts` | ì œì¶œ/ì±„ì  ë¶ˆí•„ìš” |
| `pages/Admin.tsx` | ë¬¸ì œ ê´€ë¦¬ìš© Admin ë¶ˆí•„ìš” |

#### Backend
| íŒŒì¼/í´ë” | ì´ìœ  |
|-----------|------|
| `modules/problems/` | ë¬¸ì œ CRUD ë¶ˆí•„ìš” |
| `modules/submissions/` | ì œì¶œ ê¸°ë¡ ë¶ˆí•„ìš” |

#### Store ìƒíƒœ (ì‚­ì œ)
```typescript
// ì‚­ì œí•  ìƒíƒœ
selectedProblem, selectProblem, clearProblem
solvedProblems, attemptedProblems, setSolvedStatus
isAdmin, setIsAdmin
```

---

### 2.3 âš ï¸ ìˆ˜ì •í•  ê²ƒ (Modify)

#### stores/store.ts
```typescript
// Before: ë¬¸ì œ í’€ì´ ì¤‘ì‹¬
interface Store {
  selectedProblem: Problem | null;
  solvedProblems: string[];
  attemptedProblems: string[];
  isAdmin: boolean;
  // ...
}

// After: ì‹œë®¬ë ˆì´í„° + ì½”ìŠ¤ ì¤‘ì‹¬
interface Store {
  // === ì‹œë®¬ë ˆì´í„° ===
  currentStep: number;        // í˜„ì¬ ì‹¤í–‰ ë‹¨ê³„
  totalSteps: number;         // ì „ì²´ ë‹¨ê³„ ìˆ˜
  isPlaying: boolean;         // ìë™ ì¬ìƒ ì¤‘
  setStep: (step: number) => void;

  // === ì½”ìŠ¤ ===
  currentDay: number;         // í˜„ì¬ Day (1~10)
  completedDays: number[];    // ì™„ë£Œí•œ Day ëª©ë¡

  // === í€´ì¦ˆ ===
  quizAnswer: string | null;  // ì„ íƒí•œ ë‹µ

  // === ê¸°ì¡´ ìœ ì§€ ===
  user: User | null;
  messages: Message[];
  code: string;
  // ...
}
```

#### MainLayout.tsx
```typescript
// Before
const navItems = [
  { path: '/problems', label: 'Problems', icon: ClipboardList },
  { path: '/memory', label: 'Memory', icon: Cpu },
  { path: '/chat', label: 'AI Tutor', icon: MessageCircle },
];

// After
const navItems = [
  { path: '/learn', label: 'Learn', icon: BookOpen },      // ê°œë… ì½”ìŠ¤
  { path: '/simulator', label: 'Simulator', icon: Cpu },  // ì‹œë®¬ë ˆì´í„°
  { path: '/chat', label: 'AI í•´ì„¤', icon: MessageCircle },
];
```

#### router.tsx
```typescript
// Before
{ path: 'problems', element: <ProblemsPage /> },
{ path: 'memory', element: <ProcessMemoryVisualization /> },

// After
{ path: 'learn', element: <CoursePage /> },           // ê°œë… ì½”ìŠ¤
{ path: 'learn/:day', element: <DayPage /> },         // Dayë³„ í•™ìŠµ
{ path: 'simulator', element: <SimulatorPage /> },    // ììœ  ì‹œë®¬ë ˆì´í„°
```

---

### 2.4 ğŸ†• ìƒˆë¡œ ë§Œë“¤ ê²ƒ (Create)

| íŒŒì¼/í´ë” | ì—­í•  | ìš°ì„ ìˆœìœ„ |
|-----------|------|----------|
| `features/simulator/` | ë‹¨ê³„ë³„ ì½”ë“œ ì‹œë®¬ë ˆì´í„° | â­â­â­â­â­ |
| `features/courses/` | ê°œë… ì½”ìŠ¤ (Day 1~10) | â­â­â­â­â­ |
| `features/quiz/` | ê²°ê³¼ ì˜ˆì¸¡ í€´ì¦ˆ | â­â­â­â­ |
| `data/courses/` | ì½”ìŠ¤ ë°ì´í„° (JSON) | â­â­â­â­â­ |

---

## 3. ìƒˆë¡œìš´ í´ë” êµ¬ì¡° (Tree)

```
frontend/src/
â”‚
â”œâ”€â”€ config/                          # âœ… ìœ ì§€ - í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
â”‚   â”œâ”€â”€ env.ts                       # Zod ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ index.ts                     # config ê°ì²´ export
â”‚   â””â”€â”€ theme.ts                     # í…Œë§ˆ ì„¤ì •
â”‚
â”œâ”€â”€ components/                      # âœ… ìœ ì§€ - ê³µìš© UI
â”‚   â”œâ”€â”€ ui/                          # shadcn/ui ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ badge.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ThemeToggle.tsx
â”‚
â”œâ”€â”€ features/                        # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ simulator/                   # ğŸ†• ì½”ë“œ ì‹œë®¬ë ˆì´í„° (í•µì‹¬)
â”‚   â”‚   â”œâ”€â”€ index.ts                 # public exports
â”‚   â”‚   â”œâ”€â”€ Simulator.tsx            # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ CodePanel.tsx        # ì½”ë“œ í‘œì‹œ + í˜„ì¬ ì¤„ í•˜ì´ë¼ì´íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ MemoryPanel.tsx      # ë©”ëª¨ë¦¬ ì‹œê°í™” (ê¸°ì¡´ memory-viz í™œìš©)
â”‚   â”‚   â”‚   â”œâ”€â”€ StepControls.tsx     # â—€ ì´ì „ | â–¶ ë‹¤ìŒ | â¯ ìë™
â”‚   â”‚   â”‚   â””â”€â”€ ExplanationPanel.tsx # AI í•´ì„¤ í‘œì‹œ
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useSimulator.ts      # ì‹œë®¬ë ˆì´í„° ë¡œì§
â”‚   â”‚   â”‚   â””â”€â”€ useStepNavigation.ts # ë‹¨ê³„ ì´ë™ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ courses/                     # ğŸ†• ê°œë… ì½”ìŠ¤
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ CourseList.tsx           # Day 1~10 ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ DayView.tsx              # ê°œë³„ Day í•™ìŠµ í™”ë©´
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ DayCard.tsx          # Day ì¹´ë“œ (ì™„ë£Œ ì—¬ë¶€ í‘œì‹œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ ConceptBanner.tsx    # í•µì‹¬ ê°œë… ë°°ë„ˆ
â”‚   â”‚   â”‚   â””â”€â”€ ProgressBar.tsx      # ì§„í–‰ë¥  í‘œì‹œ
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ useCourseProgress.ts # ì§„í–‰ ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ quiz/                        # ğŸ†• ê²°ê³¼ ì˜ˆì¸¡ í€´ì¦ˆ
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ Quiz.tsx                 # í€´ì¦ˆ ë©”ì¸
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ QuizQuestion.tsx     # ì§ˆë¬¸ í‘œì‹œ
â”‚   â”‚   â”‚   â”œâ”€â”€ QuizOptions.tsx      # ì„ íƒì§€
â”‚   â”‚   â”‚   â””â”€â”€ QuizResult.tsx       # ì •ë‹µ/ì˜¤ë‹µ + í•´ì„¤
â”‚   â”‚   â””â”€â”€ types.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ memory/                      # âœ… ìœ ì§€ (ë¦¬íŒ©í† ë§)
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ memory-viz/              # ê¸°ì¡´ ë©”ëª¨ë¦¬ ì‹œê°í™”
â”‚   â”‚       â”œâ”€â”€ index.tsx
â”‚   â”‚       â”œâ”€â”€ ProcessMemoryVisualization.tsx
â”‚   â”‚       â”œâ”€â”€ components/
â”‚   â”‚       â”‚   â”œâ”€â”€ ProcessMemoryView.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ StackDetailView.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ HeapDetailView.tsx
â”‚   â”‚       â”‚   â””â”€â”€ MemorySegment.tsx
â”‚   â”‚       â”œâ”€â”€ hooks/
â”‚   â”‚       â”‚   â””â”€â”€ useStepTransition.ts
â”‚   â”‚       â”œâ”€â”€ types.ts
â”‚   â”‚       â”œâ”€â”€ constants.ts
â”‚   â”‚       â””â”€â”€ utils.ts
â”‚   â”‚
â”‚   â””â”€â”€ chat/                        # âœ… ìœ ì§€ (í”„ë¡¬í”„íŠ¸ ë°©í–¥ ë³€ê²½)
â”‚       â”œâ”€â”€ index.ts
â”‚       â”œâ”€â”€ Chat.tsx
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â””â”€â”€ MessageContent.tsx
â”‚       â””â”€â”€ hooks/
â”‚           â””â”€â”€ useChat.ts
â”‚
â”œâ”€â”€ data/                            # ğŸ†• ì •ì  ë°ì´í„°
â”‚   â””â”€â”€ courses/                     # ì½”ìŠ¤ ë°ì´í„° (JSON)
â”‚       â”œâ”€â”€ index.ts                 # ì „ì²´ export
â”‚       â”œâ”€â”€ day01.ts                 # Day 1: ë³€ìˆ˜ì™€ ë©”ëª¨ë¦¬ ì£¼ì†Œ
â”‚       â”œâ”€â”€ day02.ts                 # Day 2: í¬ì¸í„°ëŠ” ê°’ì´ë‹¤
â”‚       â”œâ”€â”€ day03.ts                 # Day 3: í¬ì¸í„° ì—­ì°¸ì¡°
â”‚       â”œâ”€â”€ day04.ts                 # Day 4: ë°°ì—´ê³¼ í¬ì¸í„°
â”‚       â”œâ”€â”€ day05.ts                 # Day 5: í•¨ìˆ˜ì™€ ê°’ ì „ë‹¬
â”‚       â”œâ”€â”€ day06.ts                 # Day 6: í•¨ìˆ˜ì™€ í¬ì¸í„° ì „ë‹¬
â”‚       â”œâ”€â”€ day07.ts                 # Day 7: Stack vs Heap
â”‚       â”œâ”€â”€ day08.ts                 # Day 8: ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹
â”‚       â”œâ”€â”€ day09.ts                 # Day 9: ì´ì¤‘ í¬ì¸í„°
â”‚       â””â”€â”€ day10.ts                 # Day 10: êµ¬ì¡°ì²´ì™€ í¬ì¸í„°
â”‚
â”œâ”€â”€ services/                        # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ ai.ts                        # âœ… ìœ ì§€ - AI í•´ì„¤ì
â”‚   â”œâ”€â”€ crunner.ts                   # âœ… ìœ ì§€ - C ì‹¤í–‰
â”‚   â”œâ”€â”€ tracer.ts                    # âœ… ìœ ì§€ - ë©”ëª¨ë¦¬ íŠ¸ë ˆì´ìŠ¤
â”‚   â””â”€â”€ firebase.ts                  # âš ï¸ ì¶•ì†Œ - ì¸ì¦ë§Œ
â”‚   # âŒ ì‚­ì œ: problems.ts, submissions.ts, users.ts
â”‚
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ store.ts                     # âš ï¸ ë¦¬íŒ©í† ë§ - ì‹œë®¬ë ˆì´í„°/ì½”ìŠ¤ ì¤‘ì‹¬
â”‚
â”œâ”€â”€ layouts/
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ MainLayout.tsx               # âš ï¸ ìˆ˜ì • - ë„¤ë¹„ê²Œì´ì…˜ ë³€ê²½
â”‚
â”œâ”€â”€ pages/                           # ë¼ìš°íŠ¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ LearnPage.tsx                # ğŸ†• /learn - ì½”ìŠ¤ ëª©ë¡
â”‚   â”œâ”€â”€ DayPage.tsx                  # ğŸ†• /learn/:day - Day í•™ìŠµ
â”‚   â””â”€â”€ SimulatorPage.tsx            # ğŸ†• /simulator - ììœ  ì‹œë®¬ë ˆì´í„°
â”‚   # âŒ ì‚­ì œ: Admin.tsx
â”‚
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useTheme.ts                  # âœ… ìœ ì§€
â”‚
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ index.ts                     # âš ï¸ ìˆ˜ì • - ìƒˆ íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ memory.ts                    # âœ… ìœ ì§€
â”‚
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ utils.ts                     # âœ… ìœ ì§€ - cn() í—¬í¼
â”‚
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ theme.ts                     # âœ… ìœ ì§€
â”‚
â”œâ”€â”€ router.tsx                       # âš ï¸ ìˆ˜ì • - ìƒˆ ë¼ìš°íŒ…
â””â”€â”€ main.tsx                         # âœ… ìœ ì§€
```

---

## 4. ìƒˆë¡œìš´ íƒ€ì… ì •ì˜

```typescript
// types/index.ts

// === ì½”ìŠ¤ ê´€ë ¨ ===
export interface Course {
  day: number;                    // 1~10
  title: string;                  // "í¬ì¸í„°ëŠ” ê°’ì´ë‹¤"
  concept: string;                // í•µì‹¬ ê°œë… í•œ ì¤„
  code: string;                   // C ì½”ë“œ
  explanation: string;            // AI í•´ì„¤ (ì°©ê° í¬ì¸íŠ¸)
  quiz: Quiz;                     // í€´ì¦ˆ
}

export interface Quiz {
  question: string;               // "ì‹¤í–‰ í›„ aì˜ ê°’ì€?"
  options: QuizOption[];          // ì„ íƒì§€
  correctIndex: number;           // ì •ë‹µ ì¸ë±ìŠ¤
  explanation: string;            // ì •ë‹µ í•´ì„¤
}

export interface QuizOption {
  label: string;                  // "10", "20", "0x1000"
  value: string;
}

// === ì‹œë®¬ë ˆì´í„° ê´€ë ¨ ===
export interface SimulatorState {
  code: string;                   // ì „ì²´ ì½”ë“œ
  currentLine: number;            // í˜„ì¬ ì‹¤í–‰ ì¤„
  steps: Step[];                  // ì „ì²´ ë‹¨ê³„
  currentStepIndex: number;       // í˜„ì¬ ë‹¨ê³„ ì¸ë±ìŠ¤
}

// Step, MemoryBlockì€ ê¸°ì¡´ memory.tsì—ì„œ ê°€ì ¸ì˜´

// === ì§„í–‰ ìƒíƒœ ===
export interface Progress {
  completedDays: number[];        // ì™„ë£Œí•œ Day ëª©ë¡
  currentDay: number;             // í˜„ì¬ Day
}
```

---

## 5. ìƒˆë¡œìš´ ë¼ìš°íŒ… êµ¬ì¡°

```typescript
// router.tsx

export const router = createBrowserRouter([
  {
    path: '/',
    element: <RootLayout />,
    children: [
      // ê¸°ë³¸: ì½”ìŠ¤ ëª©ë¡ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
      { index: true, element: <Navigate to="/learn" replace /> },

      // ê°œë… ì½”ìŠ¤
      { path: 'learn', element: <LearnPage /> },           // Day ëª©ë¡
      { path: 'learn/:day', element: <DayPage /> },        // Day í•™ìŠµ

      // ììœ  ì‹œë®¬ë ˆì´í„°
      { path: 'simulator', element: <SimulatorPage /> },

      // AI í•´ì„¤ì (ë…ë¦½ ì±„íŒ…)
      { path: 'chat', element: <Chat /> },
    ],
  },
]);
```

---

## 6. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### 6.1 DayPage (Day í•™ìŠµ í™”ë©´)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Day 3: í¬ì¸í„° ì—­ì°¸ì¡°                      [â—€ Day 2]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ’¡ í•µì‹¬ ê°œë…                                     â”‚   â”‚
â”‚  â”‚ *p = "pê°€ ê°€ë¦¬í‚¤ëŠ” ê³³ì˜ ê°’"                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Code           â”‚  â”‚  Memory                     â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚  int a = 10;    â”‚  â”‚  Stack:                     â”‚  â”‚
â”‚  â”‚  int *p = &a;   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚
â”‚  â”‚â–¶ *p = 20;       â”‚  â”‚  â”‚ a: 20       â”‚ â† ë³€ê²½ë¨  â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚  â”‚ p: 0x1000 â”€â”€â”¼â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ¤– AI í•´ì„¤                                       â”‚   â”‚
â”‚  â”‚ "*p = 20ì€ pê°€ ê°€ë¦¬í‚¤ëŠ” aì˜ ê°’ì„ 20ìœ¼ë¡œ ë°”ê¿‰ë‹ˆë‹¤" â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚ ğŸ‘¤ "ê·¼ë° ì™œ *ë¥¼ ë¶™ì´ë©´ ê°’ì´ ë°”ë€Œì–´?"             â”‚   â”‚
â”‚  â”‚ ğŸ¤– "*ëŠ” ì—­ì°¸ì¡° ì—°ì‚°ìì˜ˆìš”. pê°€ ê°€ë¦¬í‚¤ëŠ” ì£¼ì†Œë¡œ   â”‚   â”‚
â”‚  â”‚     ê°€ì„œ ê·¸ ê°’ì„ ë°”ê¾¸ë¼ëŠ” ëœ»ì´ì—ìš”."             â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚ â”‚ ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...              [ì „ì†¡] â”‚     â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚  [â—€ ì´ì „]  [â–¶ ë‹¤ìŒ]  [â¯ ìë™]                          â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â“ í€´ì¦ˆ: ë§ˆì§€ë§‰ ì¤„ ì‹¤í–‰ í›„ aì˜ ê°’ì€?                   â”‚
â”‚  â—‹ 10    â— 20    â—‹ 0x1000                              â”‚
â”‚                                        [ì •ë‹µ í™•ì¸]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 LearnPage (ì½”ìŠ¤ ëª©ë¡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  C ì–¸ì–´ ê°œë… ì½”ìŠ¤                    ì§„í–‰ë¥ : 30%        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Day 1         â”‚  â”‚ Day 2         â”‚  â”‚ Day 3       â”‚ â”‚
â”‚  â”‚ âœ… ì™„ë£Œ       â”‚  â”‚ âœ… ì™„ë£Œ       â”‚  â”‚ âœ… ì™„ë£Œ     â”‚ â”‚
â”‚  â”‚ ë³€ìˆ˜ì™€ ì£¼ì†Œ   â”‚  â”‚ í¬ì¸í„°ëŠ” ê°’   â”‚  â”‚ ì—­ì°¸ì¡°      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Day 4         â”‚  â”‚ Day 5         â”‚  â”‚ Day 6       â”‚ â”‚
â”‚  â”‚ ğŸ”µ ì§„í–‰ì¤‘     â”‚  â”‚ âšª ë¯¸ì™„ë£Œ     â”‚  â”‚ âšª ë¯¸ì™„ë£Œ   â”‚ â”‚
â”‚  â”‚ ë°°ì—´ê³¼ í¬ì¸í„° â”‚  â”‚ í•¨ìˆ˜ ê°’ì „ë‹¬   â”‚  â”‚ í¬ì¸í„°ì „ë‹¬  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚  ... Day 7~10 ...                                       â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ì½”ìŠ¤ ë°ì´í„° êµ¬ì¡° ì˜ˆì‹œ

```typescript
// data/courses/day03.ts

export const day03: Course = {
  day: 3,
  title: 'í¬ì¸í„° ì—­ì°¸ì¡°',
  concept: '*p = "pê°€ ê°€ë¦¬í‚¤ëŠ” ê³³ì˜ ê°’"',

  code: `int a = 10;
int *p = &a;
*p = 20;`,

  explanation: `ë§ì€ ì‚¬ëŒë“¤ì´ *p = 20ì´ pì˜ ê°’ì„ ë°”ê¾¼ë‹¤ê³  ì°©ê°í•©ë‹ˆë‹¤.
ì‹¤ì œë¡œëŠ” pê°€ "ê°€ë¦¬í‚¤ëŠ” ê³³"ì˜ ê°’, ì¦‰ aë¥¼ ë°”ê¿‰ë‹ˆë‹¤.

*pëŠ” "pì— ì €ì¥ëœ ì£¼ì†Œë¡œ ê°€ì„œ ê·¸ ê°’ì„ ì½ì–´/ì¨ë¼"ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.`,

  quiz: {
    question: 'ë§ˆì§€ë§‰ ì¤„ ì‹¤í–‰ í›„ aì˜ ê°’ì€?',
    options: [
      { label: '10', value: '10' },
      { label: '20', value: '20' },
      { label: '0x1000', value: '0x1000' },
    ],
    correctIndex: 1,
    explanation: '*p = 20ì€ pê°€ ê°€ë¦¬í‚¤ëŠ” aì˜ ê°’ì„ 20ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.',
  },
};
```

---

## 8. ë¦¬íŒ©í† ë§ ìˆœì„œ (ë‹¨ê³„ë³„)

### Phase 1: ì •ë¦¬ (1ì¼)

1. âŒ ì‚­ì œí•  íŒŒì¼/í´ë” ì œê±°
   - `features/problems/`
   - `services/problems.ts`, `submissions.ts`
   - `pages/Admin.tsx`
   - backend `modules/problems/`, `modules/submissions/`

2. Store ì •ë¦¬
   - ë¬¸ì œ ê´€ë ¨ ìƒíƒœ ì œê±°
   - ì‹œë®¬ë ˆì´í„°/ì½”ìŠ¤ ìƒíƒœ ì¶”ê°€

3. ë¼ìš°íŒ… ìˆ˜ì •
   - `/problems` â†’ `/learn`
   - `/memory` â†’ `/simulator`

### Phase 2: ì½”ìŠ¤ ì‹œìŠ¤í…œ (2ì¼)

1. `data/courses/` ìƒì„±
   - Day 1~10 ë°ì´í„° ì‘ì„±

2. `features/courses/` ìƒì„±
   - CourseList, DayView ì»´í¬ë„ŒíŠ¸

3. `features/quiz/` ìƒì„±
   - Quiz ì»´í¬ë„ŒíŠ¸

### Phase 3: ì‹œë®¬ë ˆì´í„° ê°œì„  (2ì¼)

1. `features/simulator/` ìƒì„±
   - ê¸°ì¡´ memory-viz í™œìš©
   - ë‹¨ê³„ë³„ ì‹¤í–‰ UI ì¶”ê°€
   - ì½”ë“œ í•˜ì´ë¼ì´íŠ¸

2. AI í•´ì„¤ ì—°ë™
   - í˜„ì¬ ì¤„ ê¸°ë°˜ í•´ì„¤ ìš”ì²­

### Phase 4: í†µí•© í…ŒìŠ¤íŠ¸ (1ì¼)

1. ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
2. UX ë‹¤ë“¬ê¸°
3. ë²„ê·¸ ìˆ˜ì •

---

## 9. ì‚­ì œ ëŒ€ìƒ ìƒì„¸

### Frontend ì‚­ì œ (12ê°œ íŒŒì¼)

```bash
# ì‚­ì œí•  íŒŒì¼ë“¤
rm -rf frontend/src/features/problems/
rm frontend/src/services/problems.ts
rm frontend/src/services/submissions.ts
rm frontend/src/services/users.ts
rm frontend/src/pages/Admin.tsx
```

### Backend ì‚­ì œ (4ê°œ íŒŒì¼)

```bash
# ì‚­ì œí•  íŒŒì¼ë“¤
rm -rf backend-node/src/modules/problems/
rm -rf backend-node/src/modules/submissions/
```

---

## 10. ê¸°ì¡´ ì½”ë“œ ì¬í™œìš© ìƒì„¸

### memory-viz â†’ Simulatorì— í†µí•©

```typescript
// features/simulator/components/MemoryPanel.tsx

import {
  ProcessMemoryView,
  StackDetailView,
  HeapDetailView,
} from '@/features/memory/memory-viz';

export function MemoryPanel({ step }: { step: Step }) {
  return (
    <div className="grid grid-cols-2 gap-4">
      <StackDetailView
        blocks={step.stack}
        highlightChanges  // ğŸ†• ë³€ê²½ëœ ë¸”ë¡ ê°•ì¡°
      />
      <HeapDetailView
        blocks={step.heap}
        highlightChanges
      />
    </div>
  );
}
```

### Chat â†’ AI í•´ì„¤ìë¡œ ì „í™˜ (API ë¶„ë¦¬ + ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬)

AI í•´ì„¤ìëŠ” ë‘ ê°€ì§€ APIì™€ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬:

#### 1. API ë¶„ë¦¬

| ì—”ë“œí¬ì¸íŠ¸ | ìš©ë„ | íŠ¹ì§• |
|------------|------|------|
| `POST /api/ai/explain` | ìë™ í•´ì„¤ | ì§§ê²Œ (1-2ë¬¸ì¥), debounce 400ms |
| `POST /api/ai/chat` | Q&A ëŒ€í™” | ìƒì„¸í•˜ê²Œ, quizActive ì²´í¬ |

#### 2. ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬

```tsx
// features/ai-explainer/
â”œâ”€â”€ AutoExplanation.tsx    // ìë™ í•´ì„¤ (ì¤„ ë³€ê²½ ì‹œ)
â”œâ”€â”€ ChatQA.tsx             // Q&A ëŒ€í™”
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAutoExplain.ts  // /api/ai/explain í˜¸ì¶œ, debounce
â”‚   â””â”€â”€ useChatQA.ts       // /api/ai/chat í˜¸ì¶œ
â””â”€â”€ index.ts
```

#### 3. Props ì „ë‹¬ (Store ì‚¬ìš© ì•ˆ í•¨)

```tsx
// DayPage.tsx
<AutoExplanation
  line={currentLine}
  code={currentCode}
  topic={courseData.topic}
  debounceMs={400}
/>

<ChatQA
  context={{ courseDay, topic, code }}
  disabled={quizActive}  // í€´ì¦ˆ ì¤‘ ë¹„í™œì„±í™”
/>
```

#### 4. Backend í”„ë¡¬í”„íŠ¸

```typescript
// POST /api/ai/explain - ìë™ í•´ì„¤ìš© (ì§§ê²Œ)
const AUTO_EXPLAIN_PROMPT = `ë‹¹ì‹ ì€ ì½”ë“œ í•´ì„¤ìì…ë‹ˆë‹¤.
í˜„ì¬ ì¤„ì˜ ë™ì‘ì„ 1-2ë¬¸ì¥ìœ¼ë¡œ ì§§ê²Œ ì„¤ëª…í•˜ì„¸ìš”.
ì°©ê° í¬ì¸íŠ¸ê°€ ìˆìœ¼ë©´ ì–¸ê¸‰í•˜ì„¸ìš”.`;

// POST /api/ai/chat - Q&Aìš© (ìƒì„¸)
const CHAT_QA_PROMPT = `ë‹¹ì‹ ì€ ì½”ë“œ ì‹¤í–‰ ì›ë¦¬ë¥¼ ì„¤ëª…í•˜ëŠ” í•´ì„¤ìì…ë‹ˆë‹¤.

## í˜„ì¬ í•™ìŠµ ì¤‘ì¸ ì½”ìŠ¤
- Day ${context.courseDay}: ${context.topic}

## í˜„ì¬ ë³´ê³  ìˆëŠ” ì½”ë“œ
\`\`\`c
${context.code}
\`\`\`

## í•  ìˆ˜ ìˆëŠ” ê²ƒ
- í˜„ì¬ ì½”ë“œì˜ ë™ì‘ ì›ë¦¬ ì„¤ëª…
- ê°œë… ì§ˆë¬¸ ë‹µë³€
- ë¹„ìœ /ì˜ˆì‹œë¡œ ì„¤ëª…

## í•˜ë©´ ì•ˆ ë˜ëŠ” ê²ƒ
- ì½”ë“œ ìƒì„±/ìˆ˜ì •
${context.quizActive ? '- í€´ì¦ˆ ì •ë‹µ ì•Œë ¤ì£¼ê¸° (í€´ì¦ˆ ì§„í–‰ ì¤‘)' : ''}
`;
```

#### 5. í€´ì¦ˆ ì°¨ë‹¨ ë¡œì§

```tsx
// quizActive ì‹œ ChatQA ë¹„í™œì„±í™”
<ChatQA
  context={context}
  disabled={quizActive}
/>
{quizActive && (
  <p className="text-muted-foreground">
    í€´ì¦ˆë¥¼ ë¨¼ì € í’€ì–´ì£¼ì„¸ìš”
  </p>
)}
```

---

## 11. ìš”ì•½

### ìˆ«ìë¡œ ë³´ëŠ” ë¦¬íŒ©í† ë§

| í•­ëª© | Before | After | ë³€í™” |
|------|--------|-------|------|
| Frontend íŒŒì¼ | ~60ê°œ | ~45ê°œ | -15ê°œ |
| Backend ëª¨ë“ˆ | 6ê°œ | 4ê°œ | -2ê°œ |
| features/ í´ë” | 3ê°œ | 5ê°œ | +2ê°œ |
| ë¼ìš°íŠ¸ | 4ê°œ | 4ê°œ | ë³€ê²½ |

### í•µì‹¬ ë³€í™”

| Before (COSLAB) | After (CodeTrace) |
|-----------------|-------------------|
| /problems | /learn |
| /memory | /simulator |
| ProblemList â†’ CodeEditor | CourseList â†’ DayView |
| ì±„ì  ì‹œìŠ¤í…œ | í€´ì¦ˆ ì‹œìŠ¤í…œ |
| AI ì½”ë“œ ìƒì„± | AI í•´ì„¤ë§Œ |

---

*ì‘ì„±ì¼: 2025-12-27*
*ë²„ì „: 1.0*
